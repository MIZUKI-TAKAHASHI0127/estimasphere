<head>
  <title>顧客情報編集</title>
</head>

<body>
  <div class="container">
    <h3>顧客情報編集</h3>
    
    <% if @customer.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this customer from being saved:</h2>
        <ul>
          <% @customer.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= form_with model: @customer, local: true do |form| %>
      <div class="form-group">
        <%= form.label :customer_name, "顧客名" %>
        <%= form.text_field :customer_name, class: "form-control", placeholder: "Customer name" %>
      </div>
      <div class="form-group">
        <%= form.label :customer_code, "顧客コード" %>
        <%= form.text_field :customer_code, class: "form-control", placeholder: "Customer code" %>
      </div>
      <div class="form-group">
        <%= form.label :address, "住所" %>
        <%= form.text_field :address, class: "form-control", placeholder: "Address" %>
      </div>
      <div class="form-group">
        <%= form.label :phone_number, "電話番号" %>
        <%= form.text_field :phone_number, class: "form-control", placeholder: "Phone number" %>
      </div>
      

      <div id="representatives">
        <%= form.fields_for :representatives do |representative_form| %>
          <%= render "shared/representative_fields", f: representative_form %>
        <% end %>
      </div>

      <%= turbo_frame_tag 'new_representative' do %>
        <%= link_to "担当者を追加", new_customer_representative_path(@customer) %>
      <% end %>

      <div class="d-flex justify-content-center">
        <%= form.submit "更新", class: "btn btn-primary" %>
      </div>
    <% end %>
  </div>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

</body>